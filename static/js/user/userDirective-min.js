(function(){var a=angular.module("userModule");a.directive("newUser",["userService","$mdDialog","$http",function(b,d,c){return{restrict:"AE",templateUrl:"static/views/new-user.html",controller:function(){var f=this;this.expanded=true;this.user=b.user;this.searchingHome=false;this.searchingOffice=false;function e(g){if(g==="Home"){f.searchingHome=false}else{if(g==="Office"){f.searchingOffice=false}}}this.AddNewUser=function(){console.log("Adding new user");if(!newUserForm.$valid&&newUserForm.$error){console.log("form not valid");console.log(newUserForm.$error);return}c.post("/api",{user:f.user}).then(function(g){console.log(g);d.show({controller:["$scope","$mdDialog","mobileOrEmail",function(h,j,i){h.mobileOrEmail=i;h.hide=function(){j.hide()}}],templateUrl:"static/views/submit-confirm.html",parent:angular.element(document.body),clickOutsideToClose:true,locals:{mobileOrEmail:f.user.mobileOrEmail}})},function(g){console.log("Failed to submit data");console.log(g)})};this.setHomeToCurrentLocation=function(){f.searchingHome=true;b.setHomeToCurrentLocation(e)};this.setOfficeToCurrentLocation=function(){f.searchingOffice=true;b.setOfficeToCurrentLocation(e)};this.searchHomeAddress=function(){f.searchingHome=true;b.searchHomeAddress(e)};this.searchOfficeAddress=function(){f.searchingOffice=true;b.searchOfficeAddress(e)};f.setHomeToCurrentLocation()},controllerAs:"NewUserController"}}])})();